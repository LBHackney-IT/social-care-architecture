(self.webpackChunksocial_care_system=self.webpackChunksocial_care_system||[]).push([[477],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return s},kt:function(){return h}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=p(n),h=r,m=d["".concat(l,".").concat(h)]||d[h]||u[h]||o;return n?a.createElement(m,i(i({ref:t},s),{},{components:n})):a.createElement(m,i({ref:t},s))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},728:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return s},default:function(){return d}});var a=n(2122),r=n(9756),o=(n(7294),n(3905)),i=["components"],c={id:"adding-a-new-team",title:"Add a new team",slug:"/runbooks/case-viewer/every-day/adding-a-new-team"},l="Add a new team",p={unversionedId:"runbooks/case-viewer/every-day/adding-a-new-team",id:"runbooks/case-viewer/every-day/adding-a-new-team",isDocsHomePage:!1,title:"Add a new team",description:"There are two platforms that include the concept of teams.",source:"@site/docs/runbooks/case-viewer/every-day/adding-a-new-team.md",sourceDirName:"runbooks/case-viewer/every-day",slug:"/runbooks/case-viewer/every-day/adding-a-new-team",permalink:"/social-care-architecture/runbooks/case-viewer/every-day/adding-a-new-team",editUrl:"https://github.com/LBHackney-IT/social-care-architecture/edit/main/docs/runbooks/case-viewer/every-day/adding-a-new-team.md",version:"current",frontMatter:{id:"adding-a-new-team",title:"Add a new team",slug:"/runbooks/case-viewer/every-day/adding-a-new-team"},sidebar:"docs",previous:{title:"4. Drop MASH MongoDB Collection",permalink:"/social-care-architecture/decisions/drop-mash-mongodb-collection"},next:{title:"Connecting to the case viewer API",permalink:"/social-care-architecture/runbooks/case-viewer/development/connect-to-social-care-case-viewer-api"}},s=[{value:"1. How to add a new team to the case viewer api",id:"1-how-to-add-a-new-team-to-the-case-viewer-api",children:[{value:"-- Appending the correct value for Route to the endpoint --",id:"---appending-the-correct-value-for-route-to-the-endpoint---",children:[]},{value:"-- Creating a new JSON team object --",id:"---creating-a-new-json-team-object---",children:[]},{value:"--  Making an API request to the API using CURL --",id:"----making-an-api-request-to-the-api-using-curl---",children:[]},{value:"--  Checking it worked --",id:"----checking-it-worked---",children:[]}]},{value:"2. How to add a new team to the core pathways tool",id:"2-how-to-add-a-new-team-to-the-core-pathways-tool",children:[]}],u={toc:s};function d(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"add-a-new-team"},"Add a new team"),(0,o.kt)("p",null,"There are two platforms that include the concept of teams. "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"case viewer api")," (main tool) "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"core pathways tool"),".")),(0,o.kt)("h4",{id:"this-guide-covers"},"This guide covers"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"How to add a new team to the case viewer api "),(0,o.kt)("li",{parentName:"ol"},"How to add a new team to the core pathways tool")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"1-how-to-add-a-new-team-to-the-case-viewer-api"},"1. How to add a new team to the case viewer api"),(0,o.kt)("h4",{id:"steps"},"Steps:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"In order to send a new team request to the API, refer to the Runbook guide on ",(0,o.kt)("a",{parentName:"li",href:"/social-care-architecture/runbooks/case-viewer/development/connect-to-social-care-case-viewer-api"},"Connecting to the case viewer API")),(0,o.kt)("li",{parentName:"ul"},"Appending the correct value for Route to the endpoint"),(0,o.kt)("li",{parentName:"ul"},"Creating a new team JSON object"),(0,o.kt)("li",{parentName:"ul"},"Making a request to the API using CURL"),(0,o.kt)("li",{parentName:"ul"},"Checking it worked")),(0,o.kt)("h3",{id:"---appending-the-correct-value-for-route-to-the-endpoint---"},"-- Appending the correct value for Route to the endpoint --"),(0,o.kt)("p",null,"Once you have the correct endpoint for hitting either Staging or Production, if you wish to direct your HTTP request to the right resource in the API then you will have to append the correct route to the endpoint."),(0,o.kt)("p",null,"Route information can be found in the specific controller that handles the resource you wish to target.\nIn the Social Care Case Viewer API, the controller for teams is found at:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"social-care-case-viewer-api/SocialCareCaseViewerApi/V1/Controllers/TeamController.cs")),(0,o.kt)("p",null,"Route is defined in that file like so ",(0,o.kt)("strong",{parentName:"p"},'[Route("api/v1/teams")]')),(0,o.kt)("p",null,"Append ",(0,o.kt)("inlineCode",{parentName:"p"},"api/v1/teams")," to the endpoint in order to target the teams resource e.g.,"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"https://<api gateway id>.execute.<aws region>.amazonaws.com/<environment>/api/v1/teams\n")),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"---creating-a-new-json-team-object---"},"-- Creating a new JSON team object --"),(0,o.kt)("p",null,"The API expects to receive a JSON object containing the data properties needed to create a new team."),(0,o.kt)("p",null,"These properties consist of a ",(0,o.kt)("inlineCode",{parentName:"p"},"name")," and a ",(0,o.kt)("inlineCode",{parentName:"p"},"context")),(0,o.kt)("p",null,"name = the name of the new team"),(0,o.kt)("p",null,"context = refers to which service, "),(0,o.kt)("p",null,"e.g.,"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"{\n\u201cname\u201d: \u201cchosen_name\u201d,\n\u201ccontext\u201d: \u201cchosen_context\u201d\n}\n")),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"----making-an-api-request-to-the-api-using-curl---"},"--  Making an API request to the API using CURL --"),(0,o.kt)("p",null,"If you are unfamiliar with how to use CURL, see this ",(0,o.kt)("a",{parentName:"p",href:"https://dev.to/iggredible/how-to-make-api-request-with-curl-kg8"},"guide")),(0,o.kt)("p",null,"Construct your CURL request like so:"),(0,o.kt)("p",null,"(",(0,o.kt)("em",{parentName:"p"},"here it is split onto new lines for readability with ",(0,o.kt)("inlineCode",{parentName:"em"},"\\"))),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"and commented with ",(0,o.kt)("inlineCode",{parentName:"em"},"#")," to explain each component of the CURL request,")),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"em"},"<>")," wraps parts that require replacement by users"),")"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'curl \\\n-X POST \\ # send a post request\n-d \'{"name": "chosen_name", "context": "chosen_context"}\' \\ # request body containing the JSON object\n-H "Content-type: application/json" \\ # set json content type\n-H "x-api-key: <the_api_key_from_AWS>" \\ # AWS API key\nhttps://<api gateway id>.execute.<aws region>.amazonaws.com/<environment>/api/v1/<team> \\ # the full url of the endpoint & resource collection\n')),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"----checking-it-worked---"},"--  Checking it worked --"),(0,o.kt)("p",null,"Go to the Frontend application for whichever environment you added the team to"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"staging = ",(0,o.kt)("a",{parentName:"li",href:"https://social-care-service-staging.hackney.gov.uk/login"},"https://social-care-service-staging.hackney.gov.uk/login")),(0,o.kt)("li",{parentName:"ul"},"production = ",(0,o.kt)("a",{parentName:"li",href:"https://social-care-service.hackney.gov.uk/login"},"https://social-care-service.hackney.gov.uk/login"))),(0,o.kt)("p",null,"Click on the ",(0,o.kt)("inlineCode",{parentName:"p"},'"Manage workers"')," link & enter a workers email to search for"),(0,o.kt)("p",null,"Once found, you should press the ",(0,o.kt)("inlineCode",{parentName:"p"},"\u201cUpdate worker\u2019s details\u201d")," button"),(0,o.kt)("p",null,"On the following page you will have the ",(0,o.kt)("inlineCode",{parentName:"p"},"\u201cTeam\u201d")," drop down, select this and check that it contains your newly added team for the correct service, e.g., Customer Service in the ASC service."),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"2-how-to-add-a-new-team-to-the-core-pathways-tool"},"2. How to add a new team to the core pathways tool"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"@TODO Complete docs for core pathways")))}d.isMDXComponent=!0}}]);