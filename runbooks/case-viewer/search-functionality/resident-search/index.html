<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<title data-react-helmet="true">Resident Search Configuration | Social Care System</title><meta data-react-helmet="true" property="og:url" content="https://lbhackney-it.github.io//social-care-architecture/runbooks/case-viewer/search-functionality/resident-search/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Resident Search Configuration | Social Care System"><meta data-react-helmet="true" name="description" content="Current implementation of search functionality"><meta data-react-helmet="true" property="og:description" content="Current implementation of search functionality"><link data-react-helmet="true" rel="shortcut icon" href="/social-care-architecture/logo.svg"><link data-react-helmet="true" rel="canonical" href="https://lbhackney-it.github.io//social-care-architecture/runbooks/case-viewer/search-functionality/resident-search/"><link data-react-helmet="true" rel="alternate" href="https://lbhackney-it.github.io//social-care-architecture/runbooks/case-viewer/search-functionality/resident-search/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://lbhackney-it.github.io//social-care-architecture/runbooks/case-viewer/search-functionality/resident-search/" hreflang="x-default"><link rel="stylesheet" href="/social-care-architecture/assets/css/styles.577370b9.css">
<link rel="preload" href="/social-care-architecture/assets/js/runtime~main.d91d8df3.js" as="script">
<link rel="preload" href="/social-care-architecture/assets/js/main.4a219d06.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/social-care-architecture/"><img src="/social-care-architecture/img/logo.svg" alt="Hackney Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/social-care-architecture/img/logo.svg" alt="Hackney Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Social Care System</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/LBHackney-IT/social-care-architecture" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/social-care-architecture/"><img src="/social-care-architecture/img/logo.svg" alt="Hackney Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/social-care-architecture/img/logo.svg" alt="Hackney Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Social Care System</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/LBHackney-IT/social-care-architecture" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/related-repositories/">Related repositories</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/process/">Process</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">System Logbook</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/mash-referrals/">MASH Referrals</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Architecture decision records (ADRs)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/decisions/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/decisions/record-architecture-decisions/">1. Record architecture decisions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/decisions/use-iso-8601-format-for-dates/">2. Use ISO 8601 format for dates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/decisions/prefer-open-source-software/">3. Prefer open source software</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/decisions/drop-mash-mongodb-collection/">4. Drop MASH MongoDB Collection</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Runbooks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Case Viewer</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Everyday</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/runbooks/case-viewer/every-day/adding-a-new-team/">Add a new team</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/runbooks/case-viewer/development/connect-to-social-care-case-viewer-api/">Connecting to the case viewer API</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Social Care Search Functionality</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Residents Search</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/social-care-architecture/runbooks/case-viewer/search-functionality/resident-search/">Resident Search Configuration</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Core Pathways</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Every Day</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/runbooks/core-pathways/every-day/connecting-to-live-databases/">Connecting to live databases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/runbooks/core-pathways/every-day/working-with-audit-tables/">Working with Audit Tables</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Incidents</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">2022</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">02-03-2022</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/social-care-architecture/incidents/2022/02-03-2022/">Incident Report 02-03-2022</a></li></ul></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">Resident Search Configuration</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="current-implementation-of-search-functionality"></a>Current implementation of search functionality<a class="hash-link" href="#current-implementation-of-search-functionality" title="Direct link to heading">#</a></h2><ul><li>Person search uses fuzzy name searching only on the input for the name entered.</li><li>Date of birth and postcode searching is strict and does not use any fuzzy searching.</li><li>If a person ID is searched for then that is the only search term that will be used, i.e., fuzzy name searching and date of birth and postcode searching is not carried out.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sql-query"></a>SQL Query<a class="hash-link" href="#sql-query" title="Direct link to heading">#</a></h3><p><code>Filtering By Name Against All Records:</code></p><ul><li>Returns results of records ordered by the similarity of the supplied name, filtered by DOB and postcode (if supplied).</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE EXTENSION IF NOT EXISTS pg_trgm;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE EXTENSION IF NOT EXISTS btree_gin;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE INDEX CONCURRENTLY IF NOT EXISTS index_full_name_search</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ON dbo.dm_persons</span></span><span class="token-line" style="color:#393A34"><span class="token plain">USING gin (first_name gin_trgm_ops, last_name gin_trgm_ops);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span></span><span class="token-line" style="color:#393A34"><span class="token plain">SET pg_trgm.word_similarity_threshold TO 0.4;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">SELECT Person.person_id as PersonId,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">COUNT(&#x27;x&#x27;) OVER(PARTITION BY 0) AS TotalRecords</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">word_similarity(Person.first_name || &#x27; &#x27; || Person.last_name, {0}) as Score</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM dbo.dm_persons Person LEFT JOIN dbo.dm_addresses Address ON Person.person_id = Address.person_id </span></span><span class="token-line" style="color:#393A34"><span class="token plain">AND Address.is_display_address = &#x27;Y&#x27; </span></span><span class="token-line" style="color:#393A34"><span class="token plain">WHERE Person.marked_for_deletion = false&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">AND ({0} &lt;% Person.first_name OR {0} &lt;% Person.last_name)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">AND (Person.date_of_birth BETWEEN {1}::timestamp AND {2}::timestamp)</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">AND (REPLACE(Address.post_code, &#x27; &#x27;, &#x27;&#x27;) ILIKE REPLACE({3}, &#x27; &#x27;, &#x27;&#x27;))</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">GROUP BY Person.person_id, Person.first_name, Person.last_name</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ORDER BY</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Score DESC,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Person.first_name,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Person.last_name</span></span><span class="token-line" style="color:#393A34"><span class="token plain">LIMIT 20 OFFSET {4};</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="following-transformations"></a>Following transformations<a class="hash-link" href="#following-transformations" title="Direct link to heading">#</a></h3><ul><li>The results are transformed into a new object of type Resident Information Response (RIR) as this type is required by the frontend, however this process doesn&#x27;t preserve the ordering from the previous step.</li><li>To preserve the order, we loop through the original ordered results, checking against the unordered RIR array looking for where they contain the same person ID.</li><li>When a match on person ID is found, we add that specific RIR record to the ordered result record object as a new parameter.</li><li>This preserves the order and allows us to return an object with data of type RIR that the frontend requires along with totalCount and a value for the cursor.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="technical-notes"></a>Technical Notes<a class="hash-link" href="#technical-notes" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="postgres"></a>Postgres<a class="hash-link" href="#postgres" title="Direct link to heading">#</a></h3><p><code>pg_tgrm extension for Postgres</code></p><ul><li>The person search uses fuzzy name matching that uses the postgres trigram extension in queries. </li><li>The <em>pg_tgrm</em> extension adds required functionality and also creates a new index to improve performance.</li><li>If the extension is not installed in your database you will get the following error when you try to run queries that make use of trigrams:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">HINT: No function matches the given name and argument types. You might need to add explicit type casts.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><code>Word Similarity Threshold</code></p><ul><li>The similarity between two text inputs can be represented as a number that indicates how similar the two arguments are. </li><li>The range of the result is zero (indicating that the two strings are completely dissimilar) to one (indicating that the two strings are identical).</li><li>The threshold must be set to between 0 and 1 (default is 0.6)</li><li>Sets the current word similarity threshold that is used by the &lt;% and %&gt; operators.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">SET pg_trgm.word_similarity_threshold TO 0.4;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">SET pg_trgm.word_similarity_threshold TO 0.16;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">SELECT word_similarity(answers::text, &#x27;mouse&#x27;), *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM &quot;Workflow&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">WHERE id IN (</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    SELECT id</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    FROM &quot;Workflow&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    WHERE answers::text %&gt; &#x27;mouse&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ORDER BY word_similarity(answers::text, &#x27;mouse&#x27;) DESC;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>pg_size_pretty() is a system function for displaying a size in bytes into human-readable format</p><p>Example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT pg_size_pretty(pg_indexes_size(&#x27;dbo.dm_persons&#x27;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><a href="https://www.postgresql.org/docs/9.6/pgtrgm.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/9.6/pgtrgm.html</a></p><p><code>Indices In Postgres</code></p><ul><li>IMPORTANT! - index must be created <strong>concurrently</strong> or you risk locking the table to other transactions.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE EXTENSION IF NOT EXISTS pg_trgm;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE EXTENSION IF NOT EXISTS btree_gin;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE INDEX CONCURRENTLY IF NOT EXISTS index_full_name_search</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ON dbo.dm_persons</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        USING gin (first_name gin_trgm_ops, last_name gin_trgm_ops);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><a href="https://www.postgresql.org/docs/13/sql-createindex.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/13/sql-createindex.html</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="swaggerhub"></a>Swaggerhub<a class="hash-link" href="#swaggerhub" title="Direct link to heading">#</a></h2><p><a href="https://app.swaggerhub.com/apis/Hackney/social-care-case-viewer-api/1.0.0#/Residents/get%20search" target="_blank" rel="noopener noreferrer">https://app.swaggerhub.com/apis/Hackney/social-care-case-viewer-api/1.0.0#/Residents/get%20search</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="path"></a>Path<a class="hash-link" href="#path" title="Direct link to heading">#</a></h4><p><code>/search</code></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="query-parameters"></a>Query Parameters<a class="hash-link" href="#query-parameters" title="Direct link to heading">#</a></h4><p>The following are all string types and optional</p><p><code>name</code>
<code>date_of_birth</code>
<code>postcode</code>
<code>mosaic_id</code>
<code>cursor</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="github-prs"></a>Github PR&#x27;s<a class="hash-link" href="#github-prs" title="Direct link to heading">#</a></h2><p>PR&#x27;s that contain the main bulk of the new endpoint changes</p><ul><li>lbh-social-care-frontend: </li></ul><p><a href="https://github.com/LBHackney-IT/lbh-social-care-frontend/pull/875" target="_blank" rel="noopener noreferrer">https://github.com/LBHackney-IT/lbh-social-care-frontend/pull/875</a></p><ul><li>social-care-case-viewer-api: </li></ul><p><a href="https://github.com/LBHackney-IT/social-care-case-viewer-api/pull/595" target="_blank" rel="noopener noreferrer">https://github.com/LBHackney-IT/social-care-case-viewer-api/pull/595</a></p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/LBHackney-IT/social-care-architecture/edit/main/docs/runbooks/case-viewer/search-functionality/resident-search.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/social-care-architecture/runbooks/case-viewer/development/connect-to-social-care-case-viewer-api/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Connecting to the case viewer API</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/social-care-architecture/runbooks/core-pathways/every-day/connecting-to-live-databases/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Connecting to live databases Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#current-implementation-of-search-functionality" class="table-of-contents__link">Current implementation of search functionality</a><ul><li><a href="#sql-query" class="table-of-contents__link">SQL Query</a></li><li><a href="#following-transformations" class="table-of-contents__link">Following transformations</a></li></ul></li><li><a href="#technical-notes" class="table-of-contents__link">Technical Notes</a><ul><li><a href="#postgres" class="table-of-contents__link">Postgres</a></li></ul></li><li><a href="#swaggerhub" class="table-of-contents__link">Swaggerhub</a></li><li><a href="#github-prs" class="table-of-contents__link">Github PR&#39;s</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/social-care-architecture/">About</a></li><li class="footer__item"><a class="footer__link-item" href="/social-care-architecture/decisions/">Architecture Decision Records (ADRs)</a></li></ul></div><div class="col footer__col"><div class="footer__title">Related repositories</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/LBHackney-IT/lbh-social-care-frontend" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Social Care Frontend<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/LBHackney-IT/social-care-case-viewer-api" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Social Care Case Viewer API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/LBHackney-IT/residents-social-care-platform-api" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Residents Social Care Platform API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/LBHackney-IT/lbh-adult-social-care-frontend" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Adult Social Care Care Package Builder Frontend<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/LBHackney-IT/lbh-adult-social-care-api" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Adult Social Care Care Package Builder API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/LBHackney-IT/lbh-adult-social-care-transactions-api" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Adult Social Care Package Builder Transactions API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/LBHackney-IT/infrastructure" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Infrastructure<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Hackney Playbooks</div><ul class="footer__items"><li class="footer__item"><a href="https://playbook.hackney.gov.uk" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Directory<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://playbook.hackney.gov.uk/API-Playbook/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>API Playbook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://playbook.hackney.gov.uk/Infrastructure-Playbook/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Infrastructure Playbook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Made by HackIT.</div></div></div></footer></div>
<script src="/social-care-architecture/assets/js/runtime~main.d91d8df3.js"></script>
<script src="/social-care-architecture/assets/js/main.4a219d06.js"></script>
</body>
</html>